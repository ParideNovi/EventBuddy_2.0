{"remainingRequest":"D:\\Progetto Finale\\EventBuddy\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Progetto Finale\\EventBuddy\\frontend\\src\\components\\Review.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\Progetto Finale\\EventBuddy\\frontend\\src\\components\\Review.vue","mtime":1581790852000},{"path":"D:\\Progetto Finale\\EventBuddy\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Progetto Finale\\EventBuddy\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Progetto Finale\\EventBuddy\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Progetto Finale\\EventBuddy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Progetto Finale\\EventBuddy\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5idG4tcHJpbWFyeSB7Cn0K"},{"version":3,"sources":["Review.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA","file":"Review.vue","sourceRoot":"src/components","sourcesContent":["<!--to do : list: /api/events/slug/reviews/ imported in UserProfile.vue (not UserEditor.vue) only if user_event_owner and event_has_expired (conviene fare APILIST per event_expired_reviews?) -->\n<!-- ReviewEditor imported in EventEditor only if event_has_expired and i partecipated to event-->\n\n<!-------------------Single Review: Delete and Modify buttons --------------->\n<!------------------ methods:  data(), triggerDeleteReview(),  likeReview()-->\n\n<template lang=\"html\">\n  <div class=\"single-review\">\n    <p class=\"text-muted\">\n      <strong>{{ review.author }}</strong> ha risposto il\n      {{ review.created_at }}\n    </p>\n    <p>{{ review.body }}</p>\n    <div v-if=\"isReviewAuthor\" class=\"review-owner\">\n      <router-link\n        :to=\"{ name: 'review-editor', params: { id: review.id } }\"\n        class=\"btn btn-sm btn-outline-secondary mr-1\"\n      >\n        <span>Modifica</span>\n      </router-link>\n\n      <button\n        class=\"btn btn-sm btn-outline-danger\"\n        @click=\"triggerDeleteReview\"\n      >\n        Cancella\n      </button>\n    </div>\n    <div v-else class=\"like-review\">\n      <button\n        class=\"btn btn-sm\"\n        @click=\"toggleLike\"\n        :class=\"{\n          'btn-primary': userLikedReview,\n          'btn-outline-primary': !userLikedReview\n        }\"\n      >\n        <strong>Like [{{ likesNumber }}]</strong>\n      </button>\n    </div>\n    <hr />\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"ReviewComponent\",\n  props: {\n    review: {\n      type: Object, //a specific Review\n      required: true\n    },\n    requestUser: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      userLikedReview: this.review.user_has_voted,\n      likesNumber: this.review.likes_count\n    };\n  },\n  computed: {\n    isReviewAuthor() {\n      return this.review.author === this.requestUser;\n    }\n  },\n  methods: {\n    toggleLike() {\n      this.userLikedReview == false ? this.likeReview() : this.unLikeReview();\n    },\n    likeReview() {\n      this.userLikedReview = true;\n      this.likesNumber += 1;\n      let endpoint = `/api/reviews/${this.review.id}/like/`;\n      apiService(endpoint, \"POST\");\n    },\n    unLikeReview() {\n      this.userLikedReview = false;\n      this.likesNumber -= 1;\n      let endpoint = `/api/reviews/${this.review.id}/like/`;\n      apiService(endpoint, \"DELETE\");\n    },\n    triggerDeleteReview() {\n      //on press delete-btn, this method is emitted in the parent component (Event)\n      this.$emit(\"delete-review\", this.review);\n    }\n  }\n};\n</script>\n\n<style lang=\"css\">\n.btn-primary {\n}\n</style>\n"]}]}