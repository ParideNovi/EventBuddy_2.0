{"remainingRequest":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\src\\components\\Review.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\src\\components\\Review.vue","mtime":1582040202000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBpU2VydmljZSB9IGZyb20gIi4uL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmV2aWV3Q29tcG9uZW50IiwKICBwcm9wczogewogICAgcmV2aWV3OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgLy9hIHNwZWNpZmljIFJldmlldwogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHJlcXVlc3RVc2VyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTGlrZWRSZXZpZXc6IHRoaXMucmV2aWV3LnVzZXJfaGFzX3ZvdGVkLAogICAgICBsaWtlc051bWJlcjogdGhpcy5yZXZpZXcubGlrZXNfY291bnQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNSZXZpZXdBdXRob3I6IGZ1bmN0aW9uIGlzUmV2aWV3QXV0aG9yKCkgewogICAgICByZXR1cm4gdGhpcy5yZXZpZXcuYXV0aG9yID09PSB0aGlzLnJlcXVlc3RVc2VyOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlTGlrZTogZnVuY3Rpb24gdG9nZ2xlTGlrZSgpIHsKICAgICAgdGhpcy51c2VyTGlrZWRSZXZpZXcgPT0gZmFsc2UgPyB0aGlzLmxpa2VSZXZpZXcoKSA6IHRoaXMudW5MaWtlUmV2aWV3KCk7CiAgICB9LAogICAgbGlrZVJldmlldzogZnVuY3Rpb24gbGlrZVJldmlldygpIHsKICAgICAgdGhpcy51c2VyTGlrZWRSZXZpZXcgPSB0cnVlOwogICAgICB0aGlzLmxpa2VzTnVtYmVyICs9IDE7CiAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3Jldmlld3MvIi5jb25jYXQodGhpcy5yZXZpZXcuaWQsICIvbGlrZS8iKTsKICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBPU1QiKTsKICAgIH0sCiAgICB1bkxpa2VSZXZpZXc6IGZ1bmN0aW9uIHVuTGlrZVJldmlldygpIHsKICAgICAgdGhpcy51c2VyTGlrZWRSZXZpZXcgPSBmYWxzZTsKICAgICAgdGhpcy5saWtlc051bWJlciAtPSAxOwogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9yZXZpZXdzLyIuY29uY2F0KHRoaXMucmV2aWV3LmlkLCAiL2xpa2UvIik7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJERUxFVEUiKTsKICAgIH0sCiAgICB0cmlnZ2VyRGVsZXRlUmV2aWV3OiBmdW5jdGlvbiB0cmlnZ2VyRGVsZXRlUmV2aWV3KCkgewogICAgICAvL29uIHByZXNzIGRlbGV0ZS1idG4sIHRoaXMgbWV0aG9kIGlzIGVtaXR0ZWQgaW4gdGhlIHBhcmVudCBjb21wb25lbnQgKEV2ZW50KQogICAgICB0aGlzLiRlbWl0KCJkZWxldGUtcmV2aWV3IiwgdGhpcy5yZXZpZXcpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Review.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,SAAA,UAAA,QAAA,0BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AACA;AACA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAFA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,KAAA,MAAA,CAAA,cADA;AAEA,MAAA,WAAA,EAAA,KAAA,MAAA,CAAA;AAFA,KAAA;AAIA,GAjBA;AAkBA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,aAAA,KAAA,MAAA,CAAA,MAAA,KAAA,KAAA,WAAA;AACA;AAHA,GAlBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,eAAA,IAAA,KAAA,GAAA,KAAA,UAAA,EAAA,GAAA,KAAA,YAAA,EAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,WAAA,IAAA,CAAA;AACA,UAAA,QAAA,0BAAA,KAAA,MAAA,CAAA,EAAA,WAAA;AACA,MAAA,UAAA,CAAA,QAAA,EAAA,MAAA,CAAA;AACA,KATA;AAUA,IAAA,YAVA,0BAUA;AACA,WAAA,eAAA,GAAA,KAAA;AACA,WAAA,WAAA,IAAA,CAAA;AACA,UAAA,QAAA,0BAAA,KAAA,MAAA,CAAA,EAAA,WAAA;AACA,MAAA,UAAA,CAAA,QAAA,EAAA,QAAA,CAAA;AACA,KAfA;AAgBA,IAAA,mBAhBA,iCAgBA;AACA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,KAAA,MAAA;AACA;AAnBA;AAvBA,CAAA","sourcesContent":["<!-- ReviewEditor imported in EventEditor only if event_has_expired and i partecipated to event-->\n\n<!-------------------Single Review: Delete and Modify buttons --------------->\n<!------------------ methods:  data(), triggerDeleteReview(),  likeReview()-->\n\n<template lang=\"html\">\n  <div class=\"single-review\">\n    <p class=\"text-muted\">\n      <strong>{{ review.author }}</strong> ha risposto il\n      {{ review.created_at }}\n    </p>\n    <p>{{ review.body }}</p>\n    <div v-if=\"isReviewAuthor\" class=\"review-owner\">\n      <router-link\n        :to=\"{ name: 'review-editor', params: { id: review.id } }\"\n        class=\"btn btn-sm btn-outline-secondary mr-1\"\n      >\n        <span>Modifica</span>\n      </router-link>\n\n      <button\n        class=\"btn btn-sm btn-outline-danger\"\n        @click=\"triggerDeleteReview\"\n      >\n        Cancella\n      </button>\n    </div>\n    <div v-else class=\"like-review\">\n      <button\n        class=\"btn btn-sm\"\n        @click=\"toggleLike\"\n        :class=\"{\n          'btn-primary': userLikedReview,\n          'btn-outline-primary': !userLikedReview\n        }\"\n      >\n        <strong>Like [{{ likesNumber }}]</strong>\n      </button>\n    </div>\n    <hr />\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"ReviewComponent\",\n  props: {\n    review: {\n      type: Object, //a specific Review\n      required: true\n    },\n    requestUser: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      userLikedReview: this.review.user_has_voted,\n      likesNumber: this.review.likes_count\n    };\n  },\n  computed: {\n    isReviewAuthor() {\n      return this.review.author === this.requestUser;\n    }\n  },\n  methods: {\n    toggleLike() {\n      this.userLikedReview == false ? this.likeReview() : this.unLikeReview();\n    },\n    likeReview() {\n      this.userLikedReview = true;\n      this.likesNumber += 1;\n      let endpoint = `/api/reviews/${this.review.id}/like/`;\n      apiService(endpoint, \"POST\");\n    },\n    unLikeReview() {\n      this.userLikedReview = false;\n      this.likesNumber -= 1;\n      let endpoint = `/api/reviews/${this.review.id}/like/`;\n      apiService(endpoint, \"DELETE\");\n    },\n    triggerDeleteReview() {\n      //on press delete-btn, this method is emitted in the parent component (Event)\n      this.$emit(\"delete-review\", this.review);\n    }\n  }\n};\n</script>\n\n<style lang=\"css\">\n</style>\n"],"sourceRoot":"src/components"}]}