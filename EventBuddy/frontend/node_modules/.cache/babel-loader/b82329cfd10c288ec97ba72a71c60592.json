{"remainingRequest":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\src\\components\\ReviewForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\src\\components\\ReviewForm.vue","mtime":1581788768000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Paride\\Desktop\\EventBuddy-master\\EventBuddy\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBpU2VydmljZSB9IGZyb20gIi4uL2NvbW1vbi9hcGkuc2VydmljZSI7IC8vaW1wb3J0IFJldmlld0NvbXBvbmVudCBmcm9tICIuLi9jb21wb25lbnRzL1Jldmlldy52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXZpZXdGb3JtIiwKICBwcm9wczogewogICAgLy8gdXNlZCBpbiB0aGlzIGNvbXBvbmVudAogICAgLy90byByZXZpZXcgdGhlIHJpZ2h0IEV2ZW50IHdlIG5lZWQgaGlzIHNsdWcKICAgIHNsdWc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld1Jldmlld0JvZHk6IG51bGwsCiAgICAgIG5ld1Jldmlld1JhdGluZzogbnVsbCwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvL2NoZWNrIGZpZWxkcwogICAgICBpZiAoIXRoaXMubmV3UmV2aWV3Qm9keSkgewogICAgICAgIHRoaXMuZXJyb3IgPSAiSWwgY2FtcG8gcmVjZW5zaW9uZSBub24gcHXDsiBlc3NlcmUgdnVvdG8hIjsKICAgICAgfSBlbHNlIGlmICghdGhpcy5uZXdSZXZpZXdSYXRpbmcpIHsKICAgICAgICB0aGlzLmVycm9yID0gIklsIGNhbXBvIHB1bnRlZ2dpbyBub24gcHXDsiBlc3NlcmUgdnVvdG8hIjsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL1BPU1QgZW5kcG9pbnQKICAgICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9ldmVudHMvIi5jb25jYXQodGhpcy5zbHVnLCAiL3Jldmlldy8iKTsKICAgICAgICB2YXIgbWV0aG9kID0gIlBPU1QiOyAvL2NhbGwgdGhlIHNlcnZpY2UgZm9yIHRoZSByZXF1ZXN0IGFuZCB0aGVuLi4KCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgbWV0aG9kLCB7CiAgICAgICAgICBib2R5OiB0aGlzLm5ld1Jldmlld0JvZHksCiAgICAgICAgICByYXRpbmc6IHRoaXMubmV3UmV2aWV3UmF0aW5nCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgLy9hZGQgbXkgcmV2aWV3CiAgICAgICAgICBfdGhpcy4kcGFyZW50LnJldmlld3MudW5zaGlmdChkYXRhKTsgLy9wYXJlbnQKCiAgICAgICAgfSk7IC8vaW5pdGlhbGl6ZSBhdHRyaWJ1dGVzCgogICAgICAgIGlmICh0aGlzLmVycm9yKSB7CiAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHRoaXMubmV3UmV2aWV3Qm9keSA9IG51bGw7CiAgICAgICAgdGhpcy5uZXdSZXZpZXdSYXRpbmcgPSBudWxsOwogICAgICAgIHRoaXMuJHBhcmVudC5zaG93Rm9ybSA9IGZhbHNlOyAvL3BhcmVudAoKICAgICAgICB0aGlzLiRwYXJlbnQudXNlckhhc1Jldmlld2VkID0gdHJ1ZTsgLy9wYXJlbnQKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ReviewForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA,SAAA,UAAA,QAAA,uBAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA;AACA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AAHA,GAFA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,IADA;AAEA,MAAA,eAAA,EAAA,IAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA;AACA,UAAA,CAAA,KAAA,aAAA,EAAA;AACA,aAAA,KAAA,GAAA,2CAAA;AACA,OAFA,MAEA,IAAA,CAAA,KAAA,eAAA,EAAA;AACA,aAAA,KAAA,GAAA,0CAAA;AACA,OAFA,MAEA;AACA;AACA,YAAA,QAAA,yBAAA,KAAA,IAAA,aAAA;AACA,YAAA,MAAA,GAAA,MAAA,CAHA,CAIA;;AACA,QAAA,UAAA,CAAA,QAAA,EAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,aADA;AAEA,UAAA,MAAA,EAAA,KAAA;AAFA,SAAA,CAAA,CAGA,IAHA,CAGA,UAAA,IAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,OAAA,CAAA,IAAA,EAFA,CAEA;;AACA,SANA,EALA,CAYA;;AACA,YAAA,KAAA,KAAA,EAAA;AACA,eAAA,KAAA,GAAA,IAAA;AACA;;AACA,aAAA,aAAA,GAAA,IAAA;AACA,aAAA,eAAA,GAAA,IAAA;AACA,aAAA,OAAA,CAAA,QAAA,GAAA,KAAA,CAlBA,CAkBA;;AACA,aAAA,OAAA,CAAA,eAAA,GAAA,IAAA,CAnBA,CAmBA;AACA;AACA;AA5BA;AAjBA,CAAA","sourcesContent":["<!--if it is expired then it is possible to add a review -->\r\n<!--Single Review: Add a Review form -->\r\n<!--Review list: List of ReviewComponent-->\r\n\r\n<template>\r\n  <div class=\"form-container \">\r\n    <form class=\"card\" @submit.prevent=\"onSubmit\">\r\n      <div class=\"card-header px-3\">Aggiungi la tua recensione dell'evento</div>\r\n      <div class=\"card-block\">\r\n        <textarea\r\n          v-model=\"newReviewBody\"\r\n          rows=\"5\"\r\n          class=\"form-control\"\r\n          placeholder=\"Recensione..\"\r\n        >\r\n        </textarea>\r\n\r\n        <!--rating stars input (component)-->\r\n        <!------------------------->\r\n        <form class=\"rating\">\r\n          <label>\r\n            <input\r\n              v-model=\"newReviewRating\"\r\n              type=\"radio\"\r\n              name=\"stars\"\r\n              value=\"1\"\r\n            />\r\n            <span class=\"icon\">★</span>\r\n          </label>\r\n          <label>\r\n            <input\r\n              v-model=\"newReviewRating\"\r\n              type=\"radio\"\r\n              name=\"stars\"\r\n              value=\"2\"\r\n            />\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n          </label>\r\n          <label>\r\n            <input\r\n              v-model=\"newReviewRating\"\r\n              type=\"radio\"\r\n              name=\"stars\"\r\n              value=\"3\"\r\n            />\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n          </label>\r\n          <label>\r\n            <input\r\n              v-model=\"newReviewRating\"\r\n              type=\"radio\"\r\n              name=\"stars\"\r\n              value=\"4\"\r\n            />\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n          </label>\r\n          <label>\r\n            <input\r\n              v-model=\"newReviewRating\"\r\n              type=\"radio\"\r\n              name=\"stars\"\r\n              value=\"5\"\r\n            />\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n            <span class=\"icon\">★</span>\r\n          </label>\r\n        </form>\r\n      </div>\r\n      <div class=\"card-footer px-3\">\r\n        <button type=\"submit\" class=\"btn btn-sm btn-success\">\r\n          Inserisci la tua recensione\r\n        </button>\r\n      </div>\r\n    </form>\r\n    <p class=\"error mt-2\">{{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"../common/api.service\";\r\n//import ReviewComponent from \"../components/Review.vue\";\r\n\r\nexport default {\r\n  name: \"ReviewForm\",\r\n  props: {\r\n    // used in this component\r\n    //to review the right Event we need his slug\r\n    slug: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      newReviewBody: null,\r\n      newReviewRating: null,\r\n      error: null\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      //check fields\r\n      if (!this.newReviewBody) {\r\n        this.error = \"Il campo recensione non può essere vuoto!\";\r\n      } else if (!this.newReviewRating) {\r\n        this.error = \"Il campo punteggio non può essere vuoto!\";\r\n      } else {\r\n        //POST endpoint\r\n        let endpoint = `/api/events/${this.slug}/review/`;\r\n        let method = \"POST\";\r\n        //call the service for the request and then..\r\n        apiService(endpoint, method, {\r\n          body: this.newReviewBody,\r\n          rating: this.newReviewRating\r\n        }).then(data => {\r\n          //add my review\r\n          this.$parent.reviews.unshift(data); //parent\r\n        });\r\n        //initialize attributes\r\n        if (this.error) {\r\n          this.error = null;\r\n        }\r\n        this.newReviewBody = null;\r\n        this.newReviewRating = null;\r\n        this.$parent.showForm = false; //parent\r\n        this.$parent.userHasReviewed = true; //parent\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.review-added {\r\n  color: red;\r\n  font-weight: bold;\r\n}\r\n.form-container {\r\n  padding: 0;\r\n  width: 100%;\r\n}\r\n.rating {\r\n  display: inline-block;\r\n  position: relative;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  font-size: 50px;\r\n}\r\n\r\n.rating label {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.rating label:last-child {\r\n  position: static;\r\n}\r\n\r\n.rating label:nth-child(1) {\r\n  z-index: 5;\r\n}\r\n\r\n.rating label:nth-child(2) {\r\n  z-index: 4;\r\n}\r\n\r\n.rating label:nth-child(3) {\r\n  z-index: 3;\r\n}\r\n\r\n.rating label:nth-child(4) {\r\n  z-index: 2;\r\n}\r\n\r\n.rating label:nth-child(5) {\r\n  z-index: 1;\r\n}\r\n\r\n.rating label input {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n}\r\n\r\n.rating label .icon {\r\n  float: left;\r\n  color: transparent;\r\n}\r\n\r\n.rating label:last-child .icon {\r\n  color: #000;\r\n}\r\n\r\n.rating:not(:hover) label input:checked ~ .icon,\r\n.rating:hover label:hover input ~ .icon {\r\n  color: #09f;\r\n}\r\n\r\n.rating label input:focus:not(:checked) ~ .icon:last-child {\r\n  color: #000;\r\n  text-shadow: 0 0 5px #09f;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}